# az-fullstack-serverless

Az-fullstack-serverless is an opinionated way to rapidly build serverless full stack applications on Azure.

## Motivation & approach

As developers we spend a lot of time on boostrapping new applications, subjects that typically take quite some time are:

- Authentication
- Database access
- Multi-tenancy
- Continuous Integration / Continuous Delivery
- App / API interaction

While this can be a lot of fun, it also takes time, valuable time we cannot spend on other things.
This project aims to take away most of the pains of bootstrapping a new full stack application, using a serverless approach, a modern stack and the best tools available.

### Authentication

The back-end authentication will be done with Azure App Service authentication, preferably with Azure AD authentication.
The authentication in the front-end will be done with React-MSAL, alternatively Azure Static Web Apps can be used as soon as it supports bringing your own App Registration.

### Database access

Comos DB will be used as the database, the GraphQL resolvers should call the loaders and the loaders should call into the database.

### Multi-tenancy

It should be possible to either opt-in or opt out of multi-tenancy.
A tenant could be a user in case of B2C or an entire organization in case of B2B.

### Continuous Integration / Continuous Delivery

CI/CD should be done with GitHub actions or Azure DevOps.
The API will be deployed as a Function App and the App's static files will be deployed to a storage account, which can optionally be served over a CDN.

Another option could be to deploy both the app and the API to Azure Static Web Apps as soon as it allows us to bring our own App Registration.

### App / API interaction

All the API interaction should automatically be generated by running an npm script.

## Stack & Tools

- Azure Functions (Node runtime)
- GraphQL
- Apollo Server
- DataLoader
- Cosmos DB
- React
- Apollo client
- GraphQL codegen

## Project structure

Todo: explain the project structure.

`api` folder  
`app` folder
